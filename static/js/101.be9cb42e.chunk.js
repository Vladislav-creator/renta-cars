"use strict";(self.webpackChunkrenta_cars=self.webpackChunkrenta_cars||[]).push([[101],{6101:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var a=n(3433),r=n(5861),o=n(9439),s=n(4687),i=n.n(s),c=n(2791),l="CatalogCar_container__GX3K0",u="CatalogCar_imageGrid__w-hLd",d="CatalogCar_buttonLoadMore__a8eC9",m="Filter_formSelect__1Ht8B",f="Filter_formSearch__jStQu",p=n(184),C=function(e){var t=e.onFilter,n=e.onReset,a=e.carMakes,r=e.rentalPrices,s=(e.allCars,(0,c.useState)("")),i=(0,o.Z)(s,2),l=i[0],u=i[1],d=(0,c.useState)(""),C=(0,o.Z)(d,2),h=C[0],v=C[1],_=(0,c.useState)(""),x=(0,o.Z)(_,2),g=x[0],j=x[1],w=(0,c.useState)(""),S=(0,o.Z)(w,2),b=S[0],N=S[1],y=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"make":u(a);break;case"price":v(a);break;case"mileageFrom":j(a);break;case"mileageTo":N(a)}};return(0,p.jsxs)("form",{className:f,onSubmit:function(e){e.preventDefault(),(l||h||g||b)&&t({make:l,price:h,mileageFrom:g,mileageTo:b})},children:[(0,p.jsxs)("select",{className:m,name:"make",value:l,onChange:y,children:[(0,p.jsx)("option",{value:"",children:"Car Brand"}),a.map((function(e){return(0,p.jsx)("option",{value:e,children:e},e)}))]}),(0,p.jsxs)("select",{className:m,name:"price",value:h,onChange:y,children:[(0,p.jsx)("option",{value:"",children:"Price"}),r.map((function(e){return(0,p.jsx)("option",{value:e,children:e},e)}))]}),(0,p.jsx)("input",{type:"text",name:"mileageFrom",placeholder:"Mileage From",value:g,onChange:y}),(0,p.jsx)("input",{type:"text",name:"mileageTo",placeholder:"Mileage To",value:b,onChange:y}),(0,p.jsx)("button",{type:"submit",children:"Search"}),(0,p.jsx)("button",{type:"button",onClick:function(){u(""),v(""),j(""),N(""),n()},children:"Reset"})]})},h=n(8953),v=n(5255),_=n(4393),x="ScrollToTopButton_scrollToTopButton__dyK9A",g="ScrollToTopButton_hidden__SzaGB",j=function(e){var t=e.onClick,n=(0,c.useState)(!1),a=(0,o.Z)(n,2),r=a[0],s=a[1];return(0,c.useEffect)((function(){var e=function(){s(window.scrollY>0)};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]),(0,p.jsx)("button",{className:"".concat(x," ").concat(r?"":g),onClick:t,children:"Scroll to Top"})};function w(){var e=(0,c.useState)([]),t=(0,o.Z)(e,2),n=t[0],s=t[1],m=(0,c.useState)(!1),f=(0,o.Z)(m,2),x=f[0],g=f[1],w=(0,c.useState)(1),S=(0,o.Z)(w,2),b=S[0],N=S[1],y=(0,c.useState)(!1),k=(0,o.Z)(y,2),I=k[0],M=k[1],Z=(0,c.useState)([]),E=(0,o.Z)(Z,2),L=E[0],P=E[1],T=(0,c.useState)([]),B=(0,o.Z)(T,2),R=B[0],F=B[1],W=(0,c.useState)([]),G=(0,o.Z)(W,2),U=G[0],D=G[1],A=(0,c.useCallback)((0,r.Z)(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.Pt)();case 3:t=e.sent,D(t),n=(0,a.Z)(new Set(t.map((function(e){return e.make})))),r=(0,a.Z)(new Set(t.map((function(e){return e.rentalPrice})))),P(n),F(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching all cars:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),[]);(0,c.useEffect)((function(){A()}),[A]),(0,c.useEffect)((function(){var e=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,(0,h.WH)(b);case 4:t=e.sent,1===b?(s(t),sessionStorage.setItem("data",JSON.stringify(t))):s((function(e){var n=[].concat((0,a.Z)(e),(0,a.Z)(t));return console.log(n),sessionStorage.setItem("data",JSON.stringify(n)),M(n.length<U.length),n})),M(t.length>=12),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error fetching data:",e.t0);case 12:g(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[b,U]);var H=(0,c.useCallback)((function(){!x&&I&&N((function(e){return e+1}))}),[x,I]),O=(0,c.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object.values(t).some((function(e){return""!==e}))){e.next=3;break}return e.abrupt("return");case 3:g(!0);try{n=U.filter((function(e){var n=!0,a=!0,r=!0;if(t.make&&(n=e.make===t.make),t.price&&(a=e.rentalPrice===t.price),t.mileageFrom&&t.mileageTo){var o=parseInt(e.mileage);r=o>=parseInt(t.mileageFrom)&&o<=parseInt(t.mileageTo)}return n&&a&&r})),s(n),M(n.length>=12)}catch(a){console.error("Error filtering data:",a)}g(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[U]);return(0,p.jsxs)("div",{className:l,children:[(0,p.jsx)(C,{onFilter:O,onReset:function(){var e=sessionStorage.getItem("data");if(e){var t=JSON.parse(e);s(t),M(t.length<U.length)}},carMakes:L,rentalPrices:R}),(0,p.jsx)("div",{className:u,children:n.map((function(e){return(0,p.jsx)(v.Z,{car:e},e.id)}))}),x&&(0,p.jsx)(_.a,{}),I&&(0,p.jsx)("button",{className:d,onClick:H,disabled:x,children:"Load More"}),!x&&(0,p.jsx)(j,{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})}})]})}},5255:function(e,t,n){n.d(t,{Z:function(){return g}});var a=n(9439),r=n(2791),o=n(184),s=function(e){var t=e.fill,n=void 0===t?"#ffffff":t;return(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fill:n,d:"M10 18.35l-1.45-1.32C4.4 13.36 1 10.25 1 6.5 1 3.42 3.42 1 6.5 1c1.74 0 3.41.81 4.5 2.09C11.09 1.81 12.76 1 14.5 1 17.58 1 20 3.42 20 6.5c0 3.75-3.4 6.86-8.55 10.54L10 18.35z"})})},i=n(7762),c=function(e,t){if(e.accessories&&e.functionalities&&t){var n,a=e.accessories.map((function(e){return e.toLowerCase()})),r=e.functionalities.map((function(e){return e.toLowerCase()})),o=(0,i.Z)(t);try{var s=function(){var e=n.value,t=e.toLowerCase();if(a.some((function(e){return e.includes(t)}))||r.some((function(e){return e.includes(t)})))return{v:e}};for(o.s();!(n=o.n()).done;){var c=s();if("object"===typeof c)return c.v}}catch(l){o.e(l)}finally{o.f()}return"\u0424\u0440\u0430\u0437\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}return"\u041c\u0430\u0441\u0441\u0438\u0432\u044b accessories \u0438/\u0438\u043b\u0438 functionalities \u0438/\u0438\u043b\u0438 phrases \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"},l=["Power liftgate","Premium Sound System","Power taligate","Power moonroof","Audio system","Leather seats","Apple Car Play","Convetible","Air suspension","Smart liftgate","Sport seats","Hurdtop roof","Dumping System","Retractable soft","3D sound system","Leather upholstery","Panoramic roof","Spot Monitoring","Rearview camera","Panoramic sunroof","Sport Suspension","Soft-top roof","Dynamics suspension"],u=n(4420),d=n(2627),m={imageItem:"CarItem_imageItem__uWims",carItem:"CarItem_carItem__UtJwG",heart:"CarItem_heart__kd6iQ",heartIcon:"CarItem_heartIcon__oUppA",heartIconUnder:"CarItem_heartIconUnder__m9xp0",favorite:"CarItem_favorite__yWBWN",buttonModal:"CarItem_buttonModal__2q3Ew",wraperTitleItemContentPrice:"CarItem_wraperTitleItemContentPrice__2jjAN",titleItemContent:"CarItem_titleItemContent__7IXU8",infoItemContent:"CarItem_infoItemContent__8q0ju",wraperInfoItemContent:"CarItem_wraperInfoItemContent__o4CLj"},f=n(3980),p=n(1413),C=n(4682),h=function(e){return e.modalCar.isModalOpen},v=function(e){return e.modalCar.modalData},_={modalOverlay:"ModalCar_modalOverlay__VrSsE",modalContent:"ModalCar_modalContent__A8cNp",closeButton:"ModalCar_closeButton__70IWX",colorBlue:"ModalCar_colorBlue__xG4EP",imageCar:"ModalCar_imageCar__1ruzE",titleContent:"ModalCar_titleContent__CBHFH",wrapperGraySmallContent:"ModalCar_wrapperGraySmallContent__+t6oT",graySmallContent:"ModalCar_graySmallContent__HW+X8",descriptionCarContent:"ModalCar_descriptionCarContent__Kqz8j",allDescriptionCarContent:"ModalCar_allDescriptionCarContent__cnn2G",subtitle:"ModalCar_subtitle__LBGWE",rentalConditions:"ModalCar_rentalConditions__UWpg1",mainWrapperRentalConditions:"ModalCar_mainWrapperRentalConditions__68MKl",wrapperRentalConditions:"ModalCar_wrapperRentalConditions__yUb2C",buttonCall:"ModalCar_buttonCall__QJvbd"},x=function(){var e=(0,u.I0)(),t=(0,u.v9)(v),n=t.address.split(" ")[3].replace(/,\s*$/,""),a=t.mileage.toLocaleString("en-US"),s=t.rentalPrice.replace("$",""),i=(0,r.useCallback)((function(){e((0,C.Mr)())}),[e]);return(0,r.useEffect)((function(){document.body.classList.add("modal-open");var e=function(e){"Escape"===e.key&&i()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e),document.body.classList.remove("modal-open")}}),[i]),(0,o.jsx)("div",{className:_.modalOverlay,onClick:i,children:(0,o.jsx)("div",{className:_.hystmodalWrap,children:(0,o.jsxs)("div",{className:_.modalContent,onClick:function(e){return e.stopPropagation()},children:[(0,o.jsx)("img",{className:_.imageCar,src:t.img,alt:"".concat(t.make," ").concat(t.model)}),(0,o.jsxs)("div",{className:_.allDescriptionCarContent,children:[(0,o.jsxs)("h1",{className:_.titleContent,children:[t.make," ",(0,o.jsx)("span",{className:"color-blue",children:t.model}),", ",t.year]}),(0,o.jsxs)("div",{className:_.wrapperGraySmallContent,children:[(0,o.jsxs)("p",{className:_.graySmallContent,children:[n," Ucraine id: ",t.id," Year ",t.year," Type ",t.type]}),(0,o.jsxs)("p",{className:_.graySmallContent,children:["Fuel Consumption: ",t.fuelConsumption," Engine Size ",t.engineSize," "]})]}),(0,o.jsx)("div",{className:_.descriptionCarContent,children:t.description}),(0,o.jsx)("p",{className:_.subtitle,children:"Accessories and functionalities:"}),(0,o.jsxs)("div",{className:_.wrapperGraySmallContent,children:[(0,o.jsx)("p",{className:_.graySmallContent,children:t.accessories}),(0,o.jsx)("p",{className:_.graySmallContent,children:t.functionalities})]}),(0,o.jsx)("p",{className:_.subtitle,children:"Rental Conditions:"}),(0,o.jsxs)("div",{className:_.mainWrapperRentalConditions,children:[(0,o.jsxs)("div",{className:_.wrapperRentalConditions,children:[(0,o.jsxs)("div",{className:_.rentalConditions,children:["Minimum age: ",(0,o.jsx)("span",{className:"color-blue",children:" 25"})]}),(0,o.jsx)("div",{className:_.rentalConditions,children:"Valid driver's license"})]}),(0,o.jsxs)("div",{className:_.wrapperRentalConditions,children:[(0,o.jsx)("div",{className:_.rentalConditions,children:"Security deposite required"}),(0,o.jsxs)("div",{className:_.rentalConditions,children:["Mileage: ",(0,o.jsx)("span",{className:"color-blue",children:a})]}),(0,o.jsxs)("div",{className:_.rentalConditions,children:["Price: ",(0,o.jsxs)("span",{className:"color-blue",children:[s,"$"]})]})]})]}),(0,o.jsx)("button",{className:_.buttonCall,onClick:function(){window.location.href="tel:+380978556455"},children:"Rental car"})]}),(0,o.jsx)("button",{className:_.closeButton,onClick:i})]})})})},g=function(e){return function(t){var n=(0,u.I0)(),a=(0,u.v9)(h);return(0,o.jsxs)(o.Fragment,{children:[a&&(0,o.jsx)(x,{}),(0,o.jsx)(e,(0,p.Z)((0,p.Z)({},t),{},{openModal:function(e){n((0,C.h7)(e))}}))]})}}((function(e){var t=e.car,n=e.openModal,i=(0,r.useState)(!1),p=(0,a.Z)(i,2),C=p[0],h=p[1],v=(0,r.useState)(!1),_=(0,a.Z)(v,2),x=_[0],g=_[1],j=(0,u.I0)(),w=(0,u.v9)(f.T);(0,r.useEffect)((function(){h(w.some((function(e){return e.id===t.id})))}),[w,t.id]),(0,r.useEffect)((function(){var e=function(){return g(!0)};return window.addEventListener("touchstart",e),function(){window.removeEventListener("touchstart",e)}}),[]);var S=function(){h((function(e){return!e})),j(C?(0,d.Hg)(t):(0,d.uB)(t))},b=t.address.split(" ")[3].replace(/,\s*$/,""),N=t.type.slice(0,1)+t.type.slice(1).toLowerCase();return(0,o.jsxs)("div",{className:m.carItem,children:[(0,o.jsx)("img",{className:m.imageItem,src:t.img,alt:"".concat(t.make," ").concat(t.model)}),(0,o.jsx)("button",{onClick:function(){x||S()},onTouchStart:function(){x&&S()},className:m.heart,children:(0,o.jsx)("span",{children:(0,o.jsx)(s,{fill:C?"#ff0000":"#ffffff"})})}),(0,o.jsxs)("div",{className:m.allDescriptionCarContents,children:[(0,o.jsxs)("div",{className:m.wraperTitleItemContentPrice,children:[(0,o.jsx)("div",{children:(0,o.jsxs)("h2",{className:m.titleItemContent,children:[t.make," ",(0,o.jsx)("span",{children:t.model}),", ",t.year]})}),(0,o.jsx)("p",{className:m.titleItemContent,children:t.rentalPrice})]}),(0,o.jsxs)("div",{className:m.wraperInfoItemContent,children:[(0,o.jsxs)("p",{className:m.infoItemContent,children:[b," | Ucraine | ",t.rentalCompany," | ",t.class]}),(0,o.jsxs)("p",{className:m.infoItemContent,children:[N," | ",function(e){return/\d/.test(e.model)?e.make:e.model}(t)," | ",t.mileage," | ",c(t,l)]})]})]}),(0,o.jsx)("button",{className:m.buttonModal,onClick:function(){return n(t)},children:"Learn more"})]})}))},3980:function(e,t,n){n.d(t,{T:function(){return a}});var a=function(e){return e.favoriteCars.favoriteCars}},8953:function(e,t,n){n.d(t,{Pt:function(){return c},WH:function(){return i}});var a=n(5861),r=n(4687),o=n.n(r),s=n(5294),i=function(){var e=(0,a.Z)(o().mark((function e(t){var n,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://65e77cfb53d564627a8ee5a5.mockapi.io/api/v1/auto-rent?page=".concat(t,"&limit=12"));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,a.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://65e77cfb53d564627a8ee5a5.mockapi.io/api/v1/auto-rent");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=101.be9cb42e.chunk.js.map