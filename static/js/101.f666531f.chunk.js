"use strict";(self.webpackChunkrenta_cars=self.webpackChunkrenta_cars||[]).push([[101],{6101:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var a=t(3433),r=t(5861),o=t(9439),s=t(4687),i=t.n(s),c=t(2791),l="CatalogCar_imageGrid__w-hLd",u="CatalogCar_buttonLoadMore__a8eC9",d="Filter_formSearch__jStQu",m=t(184),p=function(e){var n=e.onFilter,t=e.onReset,a=e.carMakes,r=e.rentalPrices,s=(e.allCars,(0,c.useState)("")),i=(0,o.Z)(s,2),l=i[0],u=i[1],p=(0,c.useState)(""),f=(0,o.Z)(p,2),C=f[0],h=f[1],v=(0,c.useState)(""),_=(0,o.Z)(v,2),x=_[0],j=_[1],g=(0,c.useState)(""),S=(0,o.Z)(g,2),b=S[0],y=S[1],N=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"make":u(a);break;case"price":h(a);break;case"mileageFrom":j(a);break;case"mileageTo":y(a)}};return(0,m.jsxs)("form",{className:d,onSubmit:function(e){e.preventDefault(),(l||C||x||b)&&n({make:l,price:C,mileageFrom:x,mileageTo:b})},children:[(0,m.jsxs)("select",{name:"make",value:l,onChange:N,children:[(0,m.jsx)("option",{value:"",children:"Select Car Brand"}),a.map((function(e){return(0,m.jsx)("option",{value:e,children:e},e)}))]}),(0,m.jsxs)("select",{name:"price",value:C,onChange:N,children:[(0,m.jsx)("option",{value:"",children:"Select Price"}),r.map((function(e){return(0,m.jsx)("option",{value:e,children:e},e)}))]}),(0,m.jsx)("input",{type:"text",name:"mileageFrom",placeholder:"Mileage From",value:x,onChange:N}),(0,m.jsx)("input",{type:"text",name:"mileageTo",placeholder:"Mileage To",value:b,onChange:N}),(0,m.jsx)("button",{type:"submit",children:"Search"}),(0,m.jsx)("button",{type:"button",onClick:function(){u(""),h(""),j(""),y(""),t()},children:"Reset"})]})},f=t(8953),C=t(6610),h=t(4393),v="ScrollToTopButton_scrollToTopButton__dyK9A",_="ScrollToTopButton_hidden__SzaGB",x=function(e){var n=e.onClick,t=(0,c.useState)(!1),a=(0,o.Z)(t,2),r=a[0],s=a[1];return(0,c.useEffect)((function(){var e=function(){s(window.scrollY>0)};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]),(0,m.jsx)("button",{className:"".concat(v," ").concat(r?"":_),onClick:n,children:"Scroll to Top"})};function j(){var e=(0,c.useState)([]),n=(0,o.Z)(e,2),t=n[0],s=n[1],d=(0,c.useState)(!1),v=(0,o.Z)(d,2),_=v[0],j=v[1],g=(0,c.useState)(1),S=(0,o.Z)(g,2),b=S[0],y=S[1],N=(0,c.useState)(!1),w=(0,o.Z)(N,2),I=w[0],k=w[1],M=(0,c.useState)([]),Z=(0,o.Z)(M,2),P=Z[0],T=Z[1],E=(0,c.useState)([]),L=(0,o.Z)(E,2),B=L[0],R=L[1],W=(0,c.useState)([]),F=(0,o.Z)(W,2),U=F[0],G=F[1],D=(0,c.useCallback)((0,r.Z)(i().mark((function e(){var n,t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.Pt)();case 3:n=e.sent,G(n),t=(0,a.Z)(new Set(n.map((function(e){return e.make})))),r=(0,a.Z)(new Set(n.map((function(e){return e.rentalPrice})))),T(t),R(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching all cars:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),[]);(0,c.useEffect)((function(){D()}),[D]),(0,c.useEffect)((function(){var e=function(){var e=(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,(0,f.WH)(b);case 4:n=e.sent,1===b?(s(n),sessionStorage.setItem("data",JSON.stringify(n))):s((function(e){var t=[].concat((0,a.Z)(e),(0,a.Z)(n));return console.log(t),sessionStorage.setItem("data",JSON.stringify(t)),k(t.length<U.length),t})),k(n.length>=12),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error fetching data:",e.t0);case 12:j(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[b,U]);var A=(0,c.useCallback)((function(){!_&&I&&y((function(e){return e+1}))}),[_,I]),O=(0,c.useCallback)(function(){var e=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object.values(n).some((function(e){return""!==e}))){e.next=3;break}return e.abrupt("return");case 3:j(!0);try{t=U.filter((function(e){var t=!0,a=!0,r=!0;if(n.make&&(t=e.make===n.make),n.price&&(a=e.rentalPrice===n.price),n.mileageFrom&&n.mileageTo){var o=parseInt(e.mileage);r=o>=parseInt(n.mileageFrom)&&o<=parseInt(n.mileageTo)}return t&&a&&r})),s(t),k(t.length>=12)}catch(a){console.error("Error filtering data:",a)}j(!1);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[U]);return(0,m.jsxs)("div",{className:"container",children:[(0,m.jsx)(p,{onFilter:O,onReset:function(){var e=sessionStorage.getItem("data");if(e){var n=JSON.parse(e);s(n),k(n.length<U.length)}},carMakes:P,rentalPrices:B}),(0,m.jsx)("div",{className:l,children:t.map((function(e){return(0,m.jsx)(C.Z,{car:e},e.id)}))}),_&&(0,m.jsx)(h.a,{}),I&&(0,m.jsx)("button",{className:u,onClick:A,disabled:_,children:"Load More"}),!_&&(0,m.jsx)(x,{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})}})]})}},6610:function(e,n,t){t.d(n,{Z:function(){return x}});var a=t(9439),r=t(7762),o=function(e,n){if(e.accessories&&e.functionalities&&n){var t,a=e.accessories.map((function(e){return e.toLowerCase()})),o=e.functionalities.map((function(e){return e.toLowerCase()})),s=(0,r.Z)(n);try{var i=function(){var e=t.value,n=e.toLowerCase();if(a.some((function(e){return e.includes(n)}))||o.some((function(e){return e.includes(n)})))return{v:e}};for(s.s();!(t=s.n()).done;){var c=i();if("object"===typeof c)return c.v}}catch(l){s.e(l)}finally{s.f()}return"\u0424\u0440\u0430\u0437\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}return"\u041c\u0430\u0441\u0441\u0438\u0432\u044b accessories \u0438/\u0438\u043b\u0438 functionalities \u0438/\u0438\u043b\u0438 phrases \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"},s=["Power liftgate","Premium Sound System","Power taligate","Power moonroof","Audio system","Leather seats","Apple Car Play","Convetible","Air suspension","Smart liftgate","Sport seats","Hurdtop roof","Dumping System","Retractable soft","3D sound system","Leather upholstery","Panoramic roof","Spot Monitoring","Rearview camera","Panoramic sunroof","Sport Suspension","Soft-top roof","Dynamics suspension"],i=t(2791),c=t(4420),l=t(2627),u={imageItem:"CarItem_imageItem__uWims",carItem:"CarItem_carItem__UtJwG",heart:"CarItem_heart__kd6iQ",heartIcon:"CarItem_heartIcon__oUppA",heartIconUnder:"CarItem_heartIconUnder__m9xp0",favorite:"CarItem_favorite__yWBWN",buttonModal:"CarItem_buttonModal__2q3Ew",wraperTitleItemContentPrice:"CarItem_wraperTitleItemContentPrice__2jjAN",titleItemContent:"CarItem_titleItemContent__7IXU8",infoItemContent:"CarItem_infoItemContent__8q0ju",wraperInfoItemContent:"CarItem_wraperInfoItemContent__o4CLj"},d=t(3980),m=t(1413),p=t(4682),f=function(e){return e.modalCar.isModalOpen},C=function(e){return e.modalCar.modalData},h={modalOverlay:"ModalCar_modalOverlay__VrSsE",modalContent:"ModalCar_modalContent__A8cNp",closeButton:"ModalCar_closeButton__70IWX",colorBlue:"ModalCar_colorBlue__xG4EP",imageCar:"ModalCar_imageCar__1ruzE",titleContent:"ModalCar_titleContent__CBHFH",wrapperGraySmallContent:"ModalCar_wrapperGraySmallContent__+t6oT",graySmallContent:"ModalCar_graySmallContent__HW+X8",descriptionCarContent:"ModalCar_descriptionCarContent__Kqz8j",allDescriptionCarContent:"ModalCar_allDescriptionCarContent__cnn2G",subtitle:"ModalCar_subtitle__LBGWE",rentalConditions:"ModalCar_rentalConditions__UWpg1",mainWrapperRentalConditions:"ModalCar_mainWrapperRentalConditions__68MKl",wrapperRentalConditions:"ModalCar_wrapperRentalConditions__yUb2C",buttonCall:"ModalCar_buttonCall__QJvbd"},v=t(184),_=function(){var e=(0,c.I0)(),n=(0,c.v9)(C),t=n.address.split(" ")[3].replace(/,\s*$/,""),a=n.mileage.toLocaleString("en-US"),r=n.rentalPrice.replace("$",""),o=(0,i.useCallback)((function(){e((0,p.Mr)())}),[e]);return(0,i.useEffect)((function(){document.body.classList.add("modal-open");var e=function(e){"Escape"===e.key&&o()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e),document.body.classList.remove("modal-open")}}),[o]),(0,v.jsx)("div",{className:h.modalOverlay,onClick:o,children:(0,v.jsx)("div",{className:h.hystmodalWrap,children:(0,v.jsxs)("div",{className:h.modalContent,onClick:function(e){return e.stopPropagation()},children:[(0,v.jsx)("img",{className:h.imageCar,src:n.img,alt:"".concat(n.make," ").concat(n.model)}),(0,v.jsxs)("div",{className:h.allDescriptionCarContent,children:[(0,v.jsxs)("h1",{className:h.titleContent,children:[n.make," ",(0,v.jsx)("span",{className:"color-blue",children:n.model}),", ",n.year]}),(0,v.jsxs)("div",{className:h.wrapperGraySmallContent,children:[(0,v.jsxs)("p",{className:h.graySmallContent,children:[t," Ucraine id: ",n.id," Year ",n.year," Type ",n.type]}),(0,v.jsxs)("p",{className:h.graySmallContent,children:["Fuel Consumption: ",n.fuelConsumption," Engine Size ",n.engineSize," "]})]}),(0,v.jsx)("div",{className:h.descriptionCarContent,children:n.description}),(0,v.jsx)("p",{className:h.subtitle,children:"Accessories and functionalities:"}),(0,v.jsxs)("div",{className:h.wrapperGraySmallContent,children:[(0,v.jsx)("p",{className:h.graySmallContent,children:n.accessories}),(0,v.jsx)("p",{className:h.graySmallContent,children:n.functionalities})]}),(0,v.jsx)("p",{className:h.subtitle,children:"Rental Conditions:"}),(0,v.jsxs)("div",{className:h.mainWrapperRentalConditions,children:[(0,v.jsxs)("div",{className:h.wrapperRentalConditions,children:[(0,v.jsxs)("div",{className:h.rentalConditions,children:["Minimum age: ",(0,v.jsx)("span",{className:"color-blue",children:" 25"})]}),(0,v.jsx)("div",{className:h.rentalConditions,children:"Valid driver's license"})]}),(0,v.jsxs)("div",{className:h.wrapperRentalConditions,children:[(0,v.jsx)("div",{className:h.rentalConditions,children:"Security deposite required"}),(0,v.jsxs)("div",{className:h.rentalConditions,children:["Mileage: ",(0,v.jsx)("span",{className:"color-blue",children:a})]}),(0,v.jsxs)("div",{className:h.rentalConditions,children:["Price: ",(0,v.jsxs)("span",{className:"color-blue",children:[r,"$"]})]})]})]}),(0,v.jsx)("button",{className:h.buttonCall,onClick:function(){window.location.href="tel:+380978556455"},children:"Rental car"})]}),(0,v.jsx)("button",{className:h.closeButton,onClick:o})]})})})},x=function(e){return function(n){var t=(0,c.I0)(),a=(0,c.v9)(f);return(0,v.jsxs)(v.Fragment,{children:[a&&(0,v.jsx)(_,{}),(0,v.jsx)(e,(0,m.Z)((0,m.Z)({},n),{},{openModal:function(e){t((0,p.h7)(e))}}))]})}}((function(e){var n=e.car,t=e.openModal,r=(0,i.useState)(!1),m=(0,a.Z)(r,2),p=m[0],f=m[1],C=(0,c.I0)(),h=(0,c.v9)(d.T);(0,i.useEffect)((function(){f(h.some((function(e){return e.id===n.id})))}),[h,n.id]);var _=n.address.split(" ")[3].replace(/,\s*$/,""),x=n.type.slice(0,1)+n.type.slice(1).toLowerCase();return(0,v.jsxs)("div",{className:u.carItem,children:[(0,v.jsx)("img",{className:u.imageItem,src:n.img,alt:"".concat(n.make," ").concat(n.model)}),(0,v.jsx)("button",{onClick:function(){f((function(e){return!e})),C(p?(0,l.Hg)(n):(0,l.uB)(n))},className:u.heart,children:(0,v.jsx)("span",{className:u.heartIcon,style:{color:p?"#ff0000":"#ffffff"},children:"\u2764"})}),(0,v.jsx)("span",{className:u.heartIconUnder,children:"\u2764"}),(0,v.jsxs)("div",{className:u.allDescriptionCarContents,children:[(0,v.jsxs)("div",{className:u.wraperTitleItemContentPrice,children:[(0,v.jsx)("div",{children:(0,v.jsxs)("h2",{className:u.titleItemContent,children:[n.make," ",(0,v.jsx)("span",{children:n.model}),", ",n.year]})}),(0,v.jsx)("p",{className:u.titleItemContent,children:n.rentalPrice})]}),(0,v.jsxs)("div",{className:u.wraperInfoItemContent,children:[(0,v.jsxs)("p",{className:u.infoItemContent,children:[_," | Ucraine | ",n.rentalCompany," | ",n.class]}),(0,v.jsxs)("p",{className:u.infoItemContent,children:[x," | ",function(e){return/\d/.test(e.model)?e.make:e.model}(n)," | ",n.mileage," | ",o(n,s)]})]})]}),(0,v.jsx)("button",{className:u.buttonModal,onClick:function(){return t(n)},children:"Learn more"})]})}))},3980:function(e,n,t){t.d(n,{T:function(){return a}});var a=function(e){return e.favoriteCars.favoriteCars}},8953:function(e,n,t){t.d(n,{Pt:function(){return c},WH:function(){return i}});var a=t(5861),r=t(4687),o=t.n(r),s=t(5294),i=function(){var e=(0,a.Z)(o().mark((function e(n){var t,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://65e77cfb53d564627a8ee5a5.mockapi.io/api/v1/auto-rent?page=".concat(n,"&limit=12"));case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),c=function(){var e=(0,a.Z)(o().mark((function e(){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("https://65e77cfb53d564627a8ee5a5.mockapi.io/api/v1/auto-rent");case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=101.f666531f.chunk.js.map